<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
	<title>GreenPU Product Search Page</title>

	<!-- non BigSemantics include statements -->
	<script src="./BigSemanticsJavaScript/libraries/jquery-2.0.0.min.js"></script>


	<!-- bsjsCore Files. You must include them in this order so as to use any BigSemantics porject -->
	<!-- Readyable is a class used to handle the asynchronous load time of the BS project
		BSAutoSwitch is an interface to BigSemantics that can switch between using the lab's hosted service for metadata
			and using a browser-installed extension. BSService and BSSExtension are implementations -->
	<script type="text/javascript" src="./BigSemanticsJavaScript/bsjsCore/Readyable.js"></script>
	<script type="text/javascript" src="./BigSemanticsJavaScript/bsjsCore/BSAutoSwitch.js"></script>   
	<script type="text/javascript" src="./BigSemanticsJavaScript/bsjsCore/BSService.js"></script>   
	<script type="text/javascript" src="./BigSemanticsJavaScript/bsjsCore/BSExtension.js"></script>   
	<!-- BSUtils, Downloader, ParsedURL, and simplBase are helper classes. Include them, but don't really worry about them-->
	<script type="text/javascript" src="./BigSemanticsJavaScript/bsjsCore/BSUtils.js"></script>
	<script type="text/javascript" src="./BigSemanticsJavaScript/bsjsCore/ParsedURL.js"></script>
	<script type="text/javascript" src="./BigSemanticsJavaScript/bsjsCore/Downloader.js"></script>
	<script type="text/javascript" src="./BigSemanticsJavaScript/bsjsCore/simpl/simplBase.js"></script>
	<!--  
		RepoMan loads a Meta-metadata repository. Avoid doing anything with it directly; it's messy-->
	<script type="text/javascript" src="./BigSemanticsJavaScript/bsjsCore/RepoMan.js"></script>

    <!--search page javascript page-->
    <!--firebase-->
    <script src="https://cdn.firebase.com/js/client/2.4.1/firebase.js"></script>
    <script type="text/javascript" src="./searchpage.js"></script>
    
    <link rel="stylesheet" type="text/css" href="searchpage.css">
</head>
    
<body onload="onLoadSemantics()">
    
    <!--label buttons at top of page -->
    <div id="logo" class="logoLabel">
        GreenPU
    </div>
    <button id="compareLabel" class="compareLabel" onclick="viewComparison()">
        Compare Items
    </button>
    <button id="searchButton" class="searchButton" onclick="runSearch()">
        Search
    </button>
    <!--search form-->
    <form id="searchForm" class="searchForm">
        <input type="text" name="productSearch"  class="searchBar">
    </form>
    
    <!--current search terms-->
    <span class="currentFiltersHeader">
        Current Filters: 
    </span>
    <span id="currentFiltersList" class="currentFiltersTerms">
        <!--Filter 1, Filter 2, ...-->
    </span>
    
    <!--search facet list-->
    <div class="searchFacetHeader">
        Search Filters
    </div>
    
    
    <div id="searchFacetBlock" class="searchFacetBlock">
        <span class="searchFacet">
            Filter 01
        </span>
        <br>
        <span class="searchSubFacet">
            Filter 01a
        </span>
        <br>
        <span class="searchSubFacet">
            Filter 01b
        </span>
        <br>
        <span id="subfacet01c" class="searchSubFacet">
            Filter 01c
        </span>
        <br>
        <br>
        <span class="searchFacet">
            Filter 02
        </span>
        <br>
        <span class="searchSubFacet">
            Filter 02a
        </span>
        <br>
        <span class="searchSubFacet">
            Filter 02b
        </span>
        <br>
        <span class="searchSubFacet">
            Filter 02c
        </span>
        <br>
        <br>
        <span class="searchFacet">
            Filter 03
        </span>
        <br>
        <span class="searchSubFacet">
            Filter 03a
        </span>
        <br>
        <span class="searchSubFacet">
            Filter 03b
        </span>
        <br>
        <span class="searchSubFacet">
            Filter 03c
        </span>
        <br>
        <br>
        <span class="searchFacet">
            Filter 04
        </span>
        <br>
        <span class="searchSubFacet">
            Filter 04a
        </span>
        <br>
        <span class="searchSubFacet">
            Filter 04b
        </span>
        <br>
        <span class="searchSubFacet">
            Filter 04c
        </span>
        <br>
        <br>
        <span class="searchFacet">
            Filter 05
        </span>
        <br>
        <span class="searchSubFacet">
            Filter 05a
        </span>
        <br>
        <span class="searchSubFacet">
            Filter 05b
        </span>
        <br>
        <span id="subfacet01c" class="searchSubFacet">
            Filter 05c
        </span>
        <br>
        <br>
        <span class="searchFacet">
            Filter 06
        </span>
        <br>
        <span class="searchSubFacet">
            Filter 02a
        </span>
        <br>
        <span class="searchSubFacet">
            Filter 06b
        </span>
        <br>
        <span class="searchSubFacet">
            Filter 06c
        </span>
        <br>
        <br>
        <span class="searchFacet">
            Filter 07
        </span>
        <br>
        <span class="searchSubFacet">
            Filter 07a
        </span>
        <br>
        <span class="searchSubFacet">
            Filter 07b
        </span>
        <br>
        <span class="searchSubFacet">
            Filter 07c
        </span>
        <br>
        <br>
        <span class="searchFacet">
            Filter 08
        </span>
        <br>
        <span class="searchSubFacet">
            Filter 08a
        </span>
        <br>
        <span class="searchSubFacet">
            Filter 08b
        </span>
        <br>
        <span class="searchSubFacet">
            Filter 08c
        </span>
        <br>
        <br>
        
    </div>
    
    <!--product listings-->
    <div id="productListings" class="productListingBlock">
      <!--
        <div id="productListing1" class="productListingType1">
          
            <img class="productListingImage" src="testImage.jpg" alt="test image">
            <span class="productListingName">
            GPU 1 Name
            </span>
             <span class="productListingBodyText">
                Detail 1 - Lorum ipsum...<br>
                Detail 2 - Lorum ipsum...<br>
                Detail 3 - Lorum ipsum...<br>
                Detail 4 - Lorum ipsum...<br>
                Detail 5 - Lorum ipsum...<br>
                Detail 6 - Lorum ipsum...<br>
            </span>
            <span class="productListingPrice">
                $ 12345.00
            </span>
            <div class="productListingButtonBlock">
                <div class="productListingPurchaseButton" onclick="goToShopPage('http://www.google.com')">
                    Buy Product
                </div>
                <div class="productListingCompareButton" onclick="spawnListing()">
                    Add To Compare
                </div>
            </div>
        </div>
        <div id="productListing2" class="productListingType2">
          
            <img class="productListingImage" src="testImage.jpg" alt="test image">
            <span class="productListingName">
            GPU 2 Name
            </span>
            <span class="productListingBodyText">
                Detail 1 - Lorum ipsum...<br>
                Detail 2 - Lorum ipsum...<br>
                Detail 3 - Lorum ipsum...<br>
                Detail 4 - Lorum ipsum...<br>
                Detail 5 - Lorum ipsum...<br>
                Detail 6 - Lorum ipsum...<br>
            </span>
            <span  class="productListingPrice">
                $ 12345.00
            </span>
            <div class="productListingButtonBlock">
                <div class="productListingPurchaseButton" onclick="goToShopPage('http://www.google.com')">
                    Buy Product
                </div>
                <div class="productListingCompareButton" onclick="spawnListing()">
                    Add To Compare
                </div>
            </div>
        </div>
        
        <div id="productListing3" class="productListingType1">
          
            <img class="productListingImage" src="testImage.jpg" alt="test image">
            <span class="productListingName">
            GPU 3 Name
            </span>
             <span class="productListingBodyText">
                Detail 1 - Lorum ipsum...<br>
                Detail 2 - Lorum ipsum...<br>
                Detail 3 - Lorum ipsum...<br>
                Detail 4 - Lorum ipsum...<br>
                Detail 5 - Lorum ipsum...<br>
                Detail 6 - Lorum ipsum...<br>
            </span>
            <span class="productListingPrice">
                $ 12345.00
            </span>
             <div class="productListingButtonBlock">
                <div class="productListingPurchaseButton" onclick="goToShopPage('http://www.google.com')">
                    Buy Product
                </div>
                <div class="productListingCompareButton" onclick="spawnListing()">
                    Add To Compare
                </div>
            </div>
        </div>
        <div id="productListing4" class="productListingType2">
          
            <img class="productListingImage" src="testImage.jpg" alt="test image">
            <span class="productListingName">
            GPU 4 Name
            </span>
             <span class="productListingBodyText">
                Detail 1 - Lorum ipsum...<br>
                Detail 2 - Lorum ipsum...<br>
                Detail 3 - Lorum ipsum...<br>
                Detail 4 - Lorum ipsum...<br>
                Detail 5 - Lorum ipsum...<br>
                Detail 6 - Lorum ipsum...<br>
            </span>
            <span class="productListingPrice">
                $ 12345.00
            </span>
             <div class="productListingButtonBlock">
                <div class="productListingPurchaseButton" onclick="goToShopPage('http://www.google.com')">
                    Buy Product
                </div>
                <div class="productListingCompareButton" onclick="spawnListing()">
                    Add To Compare
                </div>
            </div>
        </div>
        -->
    </div>
    
</body>
</html>

<script>
    var bsService = new BSAutoSwitch(['elkanacmmmdgbnhdjopfdeafchmhecbf', 'gdgmmfgjalcpnakohgcfflgccamjoipd ']);

var productData = new Firebase("https://greenpu.firebaseio.com/ProductMetadata");

var productArray = new Array();

var compareList = new Firebase("https://greenpu.firebaseio.com/ComparisonList");

// Attach an asynchronous callback to read the data at our posts reference
productData.on("value", function(snapshot) {
  console.log(snapshot.val());
  productArray = snapshot.val();
    console.log ("productArray contains" + snapshot.val());
  loadListings(productArray);
}, function (errorObject) {
  console.log("The read failed: " + errorObject.code);
});
    
    //loadListings();
</script>